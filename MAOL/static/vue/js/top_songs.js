(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={top_songs:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([6,"chunk-vendors"]),n()})({"1fcb":function(e,t,n){},3178:function(e,t,n){"use strict";n("dde9")},"402c":function(e,t,n){"use strict";var a=n("a026"),r=n("ce5b"),s=n.n(r);n("bf40");a["default"].use(s.a);var i={};t["a"]=new s.a(i)},"497b":function(e,t,n){"use strict";n("efaa")},"4e7b":function(e,t,n){"use strict";n("ea91")},6:function(e,t,n){e.exports=n("60f2")},"60f2":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=n("bc3a"),s=n.n(r),i=n("130e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ToolBar",{attrs:{user:e.user}}),n("HomeAppBar"),n("Banner",{attrs:{styles:"home-style",image:"https://wallpaperboat.com/wp-content/uploads/2020/06/03/42361/aesthetic-anime-01.jpg",heading:"MAOL",subheader:"The best anime site since "+e.date.toLocaleString()}}),n("v-card-title",[e._v(" Top Rated Songs "),n("v-spacer"),n("v-text-field",{staticClass:"search mt-1",class:{closed:e.searchClosed&&!e.search},attrs:{placeholder:"Search",filled:"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{focus:function(t){e.searchClosed=!1},blur:function(t){e.searchClosed=!0}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("SongList",{attrs:{ratings:e.songs,user:e.user,headers:[{value:"anime__cover"},{text:"Type",value:"song_type"},{text:"Number",value:"number"},{text:"Song Name",value:"name"},{value:"actions",sortable:!1}]}})],1)},c=[],l=n("d546"),u=n("a763"),d=n("84af"),f=n("6fcc"),p={name:"Top",components:{ToolBar:l["a"],HomeAppBar:u["a"],Banner:d["a"],SongList:f["a"]},props:{songs:{type:Array},user:{type:String}},data:function(){return{search:"",searchClosed:!0,date:new Date(Date.now())}}},v=p,h=(n("4e7b"),n("2877")),g=Object(h["a"])(v,o,c,!1,null,null,null),m=g.exports,_=n("402c");a["default"].config.productionTip=!1,a["default"].use(i["a"],s.a),new a["default"]({vuetify:_["a"],el:"#top",components:{Top:m}})},"6fcc":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.ratings,"items-per-page":-1,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.playDialog,callback:function(t){e.playDialog=t},expression:"playDialog"}},[n("v-card",[n("video",{ref:"video",attrs:{src:e.videoSrc,controls:"",width:"100%",preload:"auto"}},[n("source",{attrs:{type:"video/webm"}})]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeDialog("playDialog")}}},[e._v("Close ")]),n("v-spacer")],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5 justify-center"},[e._v(" Add this song to your list? ")]),n("div",{staticClass:"d-flex justify-center"},[n("v-spacer"),n("v-spacer"),n("v-select",{attrs:{items:[1,2,3,4,5,6,7,8,9,10],label:"Rating","return-object":""},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}}),n("v-spacer"),n("v-spacer")],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeDialog("addDialog")}}},[e._v("Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.addToList(e.selected)}}},[e._v("OK ")]),n("v-spacer")],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" Are you sure you want to delete this item? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeDialog("deleteDialog")}}},[e._v("Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK ")]),n("v-spacer")],1)],1)],1)],1)]},proxy:!0},e.user==e.username?{key:"item.rating",fn:function(t){return[n("v-edit-dialog",{attrs:{"return-value":t.item.rating},on:{"update:returnValue":function(n){return e.$set(t.item,"rating",n)},"update:return-value":function(n){return e.$set(t.item,"rating",n)},open:function(n){return e.openRatingDialog(t.item)},close:function(t){return e.closeDialog("ratingDialog")}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-select",{attrs:{items:[1,2,3,4,5,6,7,8,9,10],label:"Rating","return-object":""},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}}),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(n){return e.saveRating(t.item)}}},[e._v("OK ")])]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.rating)+" ")])]}}:null,{key:"item.song__anime__cover",fn:function(e){var t=e.item;return[n("a",{attrs:{href:"../../anime/"+t.song__anime__pk}},[n("v-img",{attrs:{contain:"","aspect-ratio":16/9,height:100,src:t.song__anime__cover}})],1)]}},{key:"item.anime__cover",fn:function(e){var t=e.item;return[n("a",{attrs:{href:"../../anime/"+t.anime__pk}},[n("v-img",{attrs:{contain:"","aspect-ratio":16/9,height:100,src:t.anime__cover}})],1)]}},{key:"item.song__anime__english_name",fn:function(t){var a=t.item;return[n("a",{attrs:{href:"../../anime/"+a.song__anime__pk}},[e._v(" "+e._s(a.song__anime__english_name)+" ")])]}},{key:"item.anime__english_name",fn:function(t){var a=t.item;return[n("a",{attrs:{href:"../../anime/"+a.anime__pk}},[e._v(" "+e._s(a.anime__english_name)+" ")])]}},{key:"item.name",fn:function(t){var a=t.item;return[n("a",{attrs:{href:a.detail_link}},[e._v(" "+e._s(a.name)+" ")])]}},{key:"item.song__name",fn:function(t){var a=t.item;return[n("a",{attrs:{href:a.song__detail_link}},[e._v(" "+e._s(a.song__name)+" ")])]}},{key:"item.actions",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.playSong(a)}}},[e._v(" mdi-play-circle ")]),e.user!=e.username?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.openAddDialog(a)}}},[e._v(" mdi-plus-thick ")]):e._e(),e.user==e.username?n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")]):e._e()]}}],null,!0)}),n("v-snackbar",{attrs:{timeout:2e3,color:e.snackColour},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v(" "+e._s(e.snackText)+" ")])],1)},r=[],s=(n("a434"),{name:"SongList",components:{},props:{user:{type:String},username:{type:String,default:"system"},ratings:{type:Array},headers:{type:Array}},data:function(){return{snack:"",snackText:"",snackColour:"",deleteDialog:!1,playDialog:!1,addDialog:!1,expanded:[],index:-1,rating:"",videoSrc:"",selected:null}},watch:{playDialog:function(e){e||this.$refs.video.pause()}},methods:{addToList:function(e){var t=this;e=e.pk?e.pk:e.song__pk,this.$http.post("/api/addtolist/",{method:"POST",data:{song:e,rating:this.rating}}).then((function(e){201===e.status?(t.snack=!0,t.snackColour="success",t.snackText="Song added successfully!"):(t.snack=!0,t.snackColour="error",t.snackText="This song is already in your list!")})).catch((function(){t.snack=!0,t.snackColour="error",t.snackText="An unknown error has occurred"}))},editRating:function(e){var t=this;this.$http.post("/api/editrating/",{method:"POST",data:{song:e,new_rating:this.rating}}).then((function(){t.snack=!0,t.snackColour="success",t.snackText="Rating updated successfully! Refresh to update."})).catch((function(){t.snack=!0,t.snackColour="error",t.snackText="An unknown error has occurred."}))},removeFromList:function(e){var t=this;e=e.pk?e.pk:e.song__pk,this.$http.post("/api/deletefromlist/",{method:"POST",data:{song:e}}).then((function(){t.ratings.splice(t.index,1),t.snack=!0,t.snackColour="success",t.snackText="Song deleted successfully!"})).catch((function(){t.snack=!0,t.snackColour="error",t.snackText="An unknown error has occurred"}))},playSong:function(e){e.video_link?this.selected=e.video_link:this.selected=e.song__video_link,this.playDialog=!0,this.videoSrc=this.selected},deleteItem:function(e){this.selected=e,this.index=this.ratings.indexOf(e),this.deleteDialog=!0},deleteItemConfirm:function(){this.removeFromList(this.selected),this.closeDialog("deleteDialog")},saveRating:function(e){this.editRating(e.song__pk),e.rating=this.rating,this.closeDialog("ratingDialog")},openRatingDialog:function(e){this.ratingDialog=!0,this.selected=e},openAddDialog:function(e){this.addDialog=!0,this.selected=e},closeDialog:function(e){this.$data[e]=!1}},mounted:function(){this.$http.defaults.xsrfHeaderName="X-CSRFToken",this.$http.defaults.xsrfCookieName="csrftoken"}}),i=s,o=(n("7114"),n("2877")),c=Object(o["a"])(i,a,r,!1,null,null,null);t["a"]=c.exports},7114:function(e,t,n){"use strict";n("1fcb")},"84af":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-parallax",{class:e.styles,attrs:{dark:"",src:e.image,height:e.height}},[n("div",{staticClass:"bannertext-background"},[n("h1",{staticClass:"banner-header text-h4 font-weight-thin mb-4 text-center"},[e._v(" "+e._s(e.heading)+" ")]),n("h4",{staticClass:"subheading text-center"},[e._v(" "+e._s(e.subheader)+" ")])])])},r=[],s={name:"Banner",props:{styles:{type:String},image:{type:String},height:{type:String},heading:{type:String},subheader:{type:String}},data:function(){return{}}},i=s,o=(n("3178"),n("2877")),c=Object(o["a"])(i,a,r,!1,null,"1525f886",null);t["a"]=c.exports},"91b8":function(e,t,n){"use strict";n("cac7")},a763:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-tabs",{staticClass:"d-flex justify-center",attrs:{"hide-slider":""}},[n("v-tab",{staticClass:"home",attrs:{href:"/"}},[e._v(" Home ")]),n("v-tab",{attrs:{href:"/anime"}},[e._v(" Anime ")]),n("v-tab",{attrs:{href:"/top"}},[e._v(" Top ")]),n("v-tab",{attrs:{href:"/random"}},[e._v(" Random ")]),n("form",{attrs:{id:"search",action:"/search"}},[n("v-text-field",{staticClass:"search mt-1",class:{closed:e.searchClosed&&!e.query},attrs:{id:"query",name:"q",type:"search",placeholder:"Search",filled:"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{focus:function(t){e.searchClosed=!1},blur:function(t){e.searchClosed=!0}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1)],1)},r=[],s={name:"HomeAppBar",props:{},data:function(){return{searchClosed:!0,query:null}}},i=s,o=(n("497b"),n("2877")),c=Object(o["a"])(i,a,r,!1,null,null,null);t["a"]=c.exports},cac7:function(e,t,n){},d546:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{elevation:"0"}},[n("v-toolbar",{attrs:{flat:""}},[n("a",{attrs:{href:"/"}},[n("v-img",{attrs:{src:"/static/site-logo-trans.png","max-width":"267","max-height":"63"}})],1),n("v-spacer"),n("div",{staticClass:"d-flex justify-space-between"},[n("div",["AnonymousUser"!=e.user?n("a",{attrs:{href:"/profile/"+e.user}},[e._v(" "+e._s(e.user)+" "),n("v-icon",[e._v("mdi-account")])],1):n("a",{attrs:{href:"/auth/login"}},[e._v("Login")])]),n("br"),n("a",{attrs:{href:"/auth/logout"}},[n("v-icon",[e._v("mdi-exit-to-app")])],1)])],1)],1)},r=[],s={name:"Toolbar",props:{user:{type:String}}},i=s,o=(n("91b8"),n("2877")),c=Object(o["a"])(i,a,r,!1,null,"0f36f594",null);t["a"]=c.exports},dde9:function(e,t,n){},ea91:function(e,t,n){},efaa:function(e,t,n){}});